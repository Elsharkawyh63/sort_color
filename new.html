<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="normal.css">
    <link rel="stylesheet" href="file.css">
</head>
<body>
    <div class="container">
        <div class="tube tube1" onclick="tub('tube1')">
            <div class="one obj">1</div>
            <div class="two obj">2</div>
            <div class="three obj">3</div>
            <div class="four obj">4</div>
        </div>
        <div class="tube tube2" onclick="tub('tube2')">
            <div class="one obj">5</div>
            <div class="two obj">5</div>
            <div class="three obj">4</div>
            <div class="four obj">4</div>
        </div>
        <div class="tube tube3" onclick="tub('tube3')">
            <div class="one obj">1</div>
            <div class="two obj">3</div>
            <div class="three obj">3</div>
            <div class="four obj">8</div>
        </div>
        <div class="tube tube4" onclick="tub('tube4')">
            <div class="one obj">6</div>
            <div class="two obj">2</div>
            <div class="three obj">6</div>
            <div class="four obj">4</div>
        </div>
        <div class="tube tube5" onclick="tub('tube5')">
            <div class="one obj">7</div>
            <div class="two obj">8</div>
            <div class="three obj">1</div>
            <div class="four obj">1</div>
        </div>
        <div class="tube tube6" onclick="tub('tube6')">
            <div class="one obj">6</div>
            <div class="two obj">2</div>
            <div class="three obj">7</div>
            <div class="four obj">5</div>
        </div>
        <!-- 1pink - 2 orange - 3 lightblue - 4 green - 5 yellow - 6 blue - 7 gray - 8 lightgreen -->
        <div class="tube tube7" onclick="tub('tube7')">
            <div class="one obj">7</div>
            <div class="two obj">2</div>
            <div class="three obj">5</div>
            <div class="four obj">6</div>
        </div>
        <div class="tube tube8" onclick="tub('tube8')">
            <div class="one obj">3</div>
            <div class="two obj">8</div>
            <div class="three obj">7</div>
            <div class="four obj">8</div>
        </div>
        <div class="tube tube9" onclick="tub('tube9')">
        </div>
        <div class="tube tube10" onclick="tub('tube10')">
        </div>
    </div>
    <div class="reload">
        <a href="file:///E:/challange/game/new.html">refresh</a>
    </div>
    <!-- <div class="win"><h2>Winner</h2></div> -->
    <script>
        let objec = {
            "1" : "green",
            "2" : "lightgreen",
            "3" : "goldenrod",
            "4" : "red",
            "5" : "brown",
            "6" : "blue",
            "7" : "blueviolet",
            "8" : "yellow"
        }
        let objec2 = {
            "1" : "one",
            "2" : "two",
            "3" : "three",
            "4" : "four",
            "5" : "five",
            "6" : "six",
            "7" : "seven",
            "8" : "eight"
        }
        let f1 = document.querySelectorAll(".one");
        let f2 = document.querySelectorAll(".two");
        let f3 = document.querySelectorAll(".three");
        let f4 = document.querySelectorAll(".four");
        let f5 = document.querySelectorAll(".five");
        let f6 = document.querySelectorAll(".six");
        let f7 = document.querySelectorAll(".seven");
        let f8 = document.querySelectorAll(".eight");

        let obb = document.querySelectorAll(".obj");
        let arr1 = [1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8];
        let arr2 = [];
        let arr4 = [1,4,3,6,6,8,8,5,4,4,2,5,8,1,1,6,3,7,7,3,5,7,7,2,5,8,2,6,2,4,1,3];
        let arr5 = [5,8,1,8,4,7,4,3,7,2,6,1,6,3,8,4,7,6,6,7,3,2,5,2,5,1,1,2,4,5,3,8]; //valied

        // function addlev(lev){
        //     function addele(){
        //         let ra = Math.floor(Math.random() * 32 ) ;
        //         if(arr1[ra] != ""){
        //             lev.push(arr1[ra]);
        //             arr1[ra] = "" ;
        //         }
        //     }
        //     while(lev.length < 32){
        //         for(i=0 ; i < obb.length ; i++){
        //             addele(i);
        //         }
        //     }
        //     arr1 = [1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8];
        // }
        // addlev(arr2);
        // console.log(arr2);
        // let levo = "2 level";
        // window.localStorage.setItem(levo, arr2);

        // function nelev(){
        //     let pep = parseInt(levo) + 1;
        //     let arr3 = [];
        //     addlev(arr3);
        //     let par = window.localStorage.setItem(`${pep} level` , arr3);
        //     levo = `${pep} level` ;
            
        // }
        
        

        function lop(t){
            for(i=0 ; i < t.length ; i ++){
                if(t[i].innerHTML == 1){
                    t[i].style.backgroundColor = "green";
                    t[i].style.color = "green";
                }else if(t[i].innerHTML == 2){
                    t[i].style.backgroundColor = "lightgreen";
                    t[i].style.color = "lightgreen";
                }else if(t[i].innerHTML == 3){
                    t[i].style.backgroundColor = "goldenrod";
                    t[i].style.color = "goldenrod";
                }else if(t[i].innerHTML == 4){
                    t[i].style.backgroundColor = "red";
                    t[i].style.color = "red";
                }
                else if(t[i].innerHTML == 5){
                    t[i].style.backgroundColor = "brown";
                    t[i].style.color = "brown";
                }
                else if(t[i].innerHTML == 6){
                    t[i].style.backgroundColor = "blue";
                    t[i].style.color = "blue";
                }
                else if(t[i].innerHTML == 7){
                    t[i].style.backgroundColor = "blueviolet";
                    t[i].style.color = "blueviolet";
                }
                else if(t[i].innerHTML == 8){
                    t[i].style.backgroundColor = "yellow";
                    t[i].style.color = "yellow";
                }
            }
        }
        function tolop(){
            lop(f1);  
            lop(f2);  
            lop(f3);  
            lop(f4); 
            lop(f5); 
            lop(f6); 
            lop(f7); 
            lop(f8); 
        } 
        tolop();

        function place(mn){
            // let gg = window.localStorage.getItem("2 level");
            for(l=0 ; l < obb.length ; l++){
                obb[l].innerHTML = mn[l];
                tolop();
            }
            let hh = document.querySelectorAll(".tube");
            for(l=0; l < hh.length ; l++){
                hh[l].classList.remove("disabledbutton");
            }
        }


        window.localStorage.setItem("cond" , "not");
        window.localStorage.setItem("hover" , "none");
        function tub(e){
            let hh = document.querySelectorAll(".tube");
            for(l=0; l < hh.length ; l++){
                hh[l].classList.remove("hover");
            }
            let g = window.localStorage.getItem("cond");
            let h = window.localStorage.getItem("hover");
            if(g === "not"){
                let b = document.querySelector(`.${e}`).childElementCount ;
                if(b > 0){
                    let a = document.querySelector(`.${e} div:first-of-type`).innerHTML;
                    window.localStorage.setItem("selected" , objec[a]);
                    window.localStorage.setItem("val" , a);
                    window.localStorage.setItem("cond" , "clicked");
                    let c = window.localStorage.getItem("val");
                    let d = window.localStorage.getItem("hover");
                    window.localStorage.setItem("hover" , `${e}`);
                let r = document.querySelector(`.${e}`).classList.add("hover");
                }
            }else{
                let b = document.querySelector(`.${e}`).childElementCount ;
                if(b == 0 ){
                    let c = window.localStorage.getItem("val");
                    let d = window.localStorage.getItem("hover");
                    document.querySelector(`.${d} div:first-of-type`).remove();
                    let di = document.createElement("div");
                    let tex = document.createTextNode(c);
                    let st = document.querySelector(`.${e}`);
                    st.prepend(di);
                    di.appendChild(tex);
                    di.classList.add(`${objec2[4 - b]}`);
                    di.classList.add("obj");
                    let f1 = document.querySelectorAll(".one");
                    let f2 = document.querySelectorAll(".two");
                    let f3 = document.querySelectorAll(".three");
                    let f4 = document.querySelectorAll(".four");
                    let f5 = document.querySelectorAll(".five");
                    let f6 = document.querySelectorAll(".six");
                    let f7 = document.querySelectorAll(".seven");
                    let f8 = document.querySelectorAll(".eight");
                    function tolop(){
                        lop(f1);  
                        lop(f2);  
                        lop(f3);  
                        lop(f4);
                        lop(f5); 
                        lop(f6); 
                        lop(f7); 
                        lop(f8);  
                    }
                    tolop(); 
                    window.localStorage.setItem("cond" , "not");
                    window.localStorage.setItem("hover" , "none");
                }else{
                    let a = document.querySelector(`.${e} div:first-of-type`).innerHTML;
                    let c = window.localStorage.getItem("val");
                    let d = window.localStorage.getItem("hover");
                    if(b < 4 && a === c && e != d && g ==="clicked"){
                        document.querySelector(`.${d} div:first-of-type`).remove();
                        let di = document.createElement("div");
                        let tex = document.createTextNode(a);
                        let st = document.querySelector(`.${e}`);
                        st.prepend(di);
                        di.appendChild(tex);
                        di.classList.add(`${objec2[4 - b]}`);
                        di.classList.add("obj");
                        let f1 = document.querySelectorAll(".one");
                        let f2 = document.querySelectorAll(".two");
                        let f3 = document.querySelectorAll(".three");
                        let f4 = document.querySelectorAll(".four");
                        let f5 = document.querySelectorAll(".five");
                        let f6 = document.querySelectorAll(".six");
                        let f7 = document.querySelectorAll(".seven");
                        let f8 = document.querySelectorAll(".eight");
                        function tolop(){
                            lop(f1);  
                            lop(f2);  
                            lop(f3);  
                            lop(f4);
                            lop(f5); 
                            lop(f6); 
                            lop(f7); 
                            lop(f8);  
                        }
                        tolop(); 
                        window.localStorage.setItem("cond" , "not");
                        window.localStorage.setItem("hover" , "none");
                    }
                    else{
                        window.localStorage.setItem("cond" , "not");
                        window.localStorage.setItem("hover" , "none");
                    }
                    let n = document.querySelector(`.${e}`).childElementCount ;
                    if(n == 4){
                        let a1 = document.querySelector(`.${e} .one`).innerHTML;
                        let a2 = document.querySelector(`.${e} .two`).innerHTML;
                        let a3 = document.querySelector(`.${e} .three`).innerHTML;
                        let a4 = document.querySelector(`.${e} .four`).innerHTML;
                        if(a1 == a2 && a2 == a3 && a3 == a4){
                            document.querySelector(`.${e}`).classList.add("disabledbutton");                          
                            let yy = document.querySelectorAll(".disabledbutton");
                            console.log(yy.length);
                            if(yy.length == 8){
                                console.log("winner");
                                let cr = document.createElement("div");
                                // let btt = document.createElement("button");
                                let crt = document.createTextNode("Winner");
                                // let btcrt = document.createTextNode("Next Level");
                                document.body.appendChild(cr);
                                // document.body.appendChild(btt);
                                cr.appendChild(crt);
                                // btt.appendChild(btcrt);
                                cr.classList.add("win");
                                // btt.classList.add("butt");
                                // btt.setAttribute("onclick" , "place(arr5)");
                            }
                        }
                    }
                }
                
            }
        }
    </script>
</body>
</html>